{"version":3,"sources":["images/avatar.svg","components/layout/footer.js","components/home/homeview.js","components/firebase/firebase.js","components/layout/loggedInHeader.js","components/home/aboutUs.js","components/authentication/loginPopUp.js","components/layout/loggedOutHeader.js","components/mealPlan/SearchResultTile.js","components/mealPlan/searchBar.js","components/mealPlan/FoodItem.js","components/mealPlan/DragDropBox.js","components/mealPlan/weekPlan.js","components/mealPlan/nutriScore.js","components/firebase/DbObjectsMethods.js","components/mealPlan/MealPlannerPage.js","components/mealPlan/goals.js","components/userInfo/sideBar.js","components/userInfo/achievements.js","components/userInfo/profile.js","components/userInfo/editProfile.js","components/authentication/register.js","components/userInfo/changePassword.js","App.js","serviceWorker.js","index.js","images/homepage-gif.gif","images/loading.svg","images/profile.svg"],"names":["module","exports","Footer","className","alt","href","React","Component","HomeView","state","user","error","firebase","auth","onAuthStateChanged","setState","src","homepage_gif","this","to","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","REACT_APP_APP_ID","measurementId","initializeApp","GoogleAuthProvider","mealPlan","firestore","collection","LoggedInHeader","logOutUser","signOut","then","window","location","catch","onClick","LoginPopUp","props","context","handleChange","e","target","id","value","handleSubmit","preventDefault","email","password","signInWithEmailAndPassword","forget","withReactContent","Swal","fire","icon","title","showConfirmButton","timer","console","log","history","push","handleForget","sendPasswordResetEmail","LoginTrigger","trigger","actions","onSubmit","required","type","name","placeholder","onChange","style","color","message","withRouter","LoggedOutHeader","SearchResultTile","dragStart","foodObj","label","foodId","cal","Cal","fat","Fat","pro","Pro","carbs","Carbs","qty","Qty","foodJSON","JSON","stringify","dataTransfer","setData","dragOver","stopPropagation","draggable","onDragStart","onDragOver","index","SearchBar","val","round","exp","Math","isNaN","toString","split","keyPressed","event","a","key","lastSearch","searchTerm","document","body","cursor","urlFood","encodeURI","axios","get","response","data","results","qtyGrams","currentUser","onKeyPress","step","min","hints","map","obj","food","nutrients","ENERC_KCAL","FAT","CHOCDF","PROCNT","length","FoodItem","onRemoveItem","i","flat","onDel","DragDropTest","drop","getData","parse","prevState","foodList","temp","groupFoodList","filter","item","j","totalNutr","foodListNutr","boxEmpty","undefined","foodObjProp","targetDel","bind","currentTarget","parseInt","grpFood","reduce","acc","cv","Object","keys","b","getTotalNutr","cacheTile","onDrop","WeekPlan","rows","NutriScore","planned_values","kcal","prots","fats","actual_values","nutriscore","doc","uid","preState","getElementById","width","calories","protein","mealPlanOBJTemplate","monday","LABEL","FOOD_ID","CAL","CARBS","PRO","tuesday","wednesday","thursday","friday","saturday","sunday","MealPlannerPage","createMealPlan","creationcheck","userID","exists","set","promises","timestamp","Date","toLocaleString","timeZone","actualMealPlanObj","assign","add","Promise","all","addMealPlanDoc","rowcount","mealplansaved","totalNutrPlan","totalNutrReal","totalNutrRecomended","nutritionValues","cachedMeals","tilesCached","addRow","saveMealplan","deleteMealplan","tileNutr","foodArray","totalNutrWeek","day","meal","cachedMealsDay","rowkey","joined","concat","newRows","newNutritionValues","slice","pop","warn","merge","saveMealPlanTemplate","editButton","removeRow","loadingSvg","createProcess","Goals","age","gender","height","weight","activityLevel","diet","c","carb","p","f","dietCalc","getCalculateResult","userId","update","Number","options","classes","dropdownOptions","alignment","autoTrigger","closeOnClick","constrainWidth","container","coverTrigger","hover","inDuration","onCloseEnd","onCloseStart","onOpenEnd","onOpenStart","outDuration","disabled","SideBar","handleButtons","path","avatar","Achievements","Profile","EditProfile","fixName","max","Register","confirmPassword","createUserWithEmailAndPassword","saveUserDetails","ChangePassword","oldPassword","newPassword","newEmail","confirmNewPassword","success","updateEmail","updatePassword","App","component","exact","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.86ea15cd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar.97b8107d.svg\";"," import React from 'react';\r\n\r\nexport default class Footer extends React.Component {\r\n    render() {\r\n        return (\r\n            <footer className=\"footer\">\r\n                <div className=\"footer-top\">\r\n                    <div className=\"footer-item\">\r\n                        <p className=\"bold\">planmy.ml</p>\r\n                        <p>Mealplans</p>\r\n                        <p>Recipes</p>\r\n                        <p>Goals</p>\r\n                        <p>About Us</p>\r\n                    </div>\r\n\r\n                    <div className=\"footer-item\">\r\n                        <img alt=\"cute little ilustration\"></img>\r\n                    </div>\r\n\r\n                    <div className=\"footer-item\">\r\n                        <p className=\"bold\">Contact & Suport</p>\r\n                        <p>FAQ</p>\r\n                        <p>Email</p>\r\n                        <p>Instagram</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"footer-bottom\">\r\n                    <a href=\"https://www.google.com/\">Terms of use</a>\r\n                    <a href=\"https://www.google.com/\">Privacy Policy</a>\r\n                    <a href=\"https://www.google.com/\">Cookie Policy</a>\r\n                    <span className=\"copyright\">Â© Copyright 2019 - 2020 . planmyml. All rights reserved.</span>\r\n                </div>\r\n            </footer>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport firebase from 'firebase';\r\nimport homepage_gif from '../../images/homepage-gif.gif';\r\n\r\nexport default class HomeView extends React.Component {\r\n    state = {\r\n        user: null,\r\n        error: null,\r\n    }\r\n\r\n    componentDidMount() {\r\n        firebase.auth().onAuthStateChanged(user => {\r\n            if (user) {\r\n                this.setState({ user })\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"view\">\r\n                <div className=\"home\">\r\n                    <div className=\"home-illustration\">\r\n                        <img src={homepage_gif} alt=\"Homepage Ilustration\" className=\"gif\"/>\r\n                    </div>\r\n                    <div className=\"home-titles\">\r\n                        <h2 className=\"title\">Plan <b className=\"bold\">meals.</b><br />\r\n                            Track <b className=\"bold\">nutrition.</b><br />\r\n                            Reach your <b className=\"bold\">goals.</b>\r\n                        </h2>\r\n                        <p className=\"subtitle\">\r\n                            Create your flexible mealplan and input your actual meals.<br />\r\n                            Track your nutrition with our simplified graphics and adjust <br /> your plan to get your goals.\r\n                    </p>\r\n                        {this.state.user ? null : <NavLink className=\"btn-login\" to='/register'>CREATE YOUR ACCOUNT</NavLink>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import firebase from 'firebase';\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID,\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n\r\nexport const provider = new firebase.auth.GoogleAuthProvider();\r\nexport const auth = firebase.auth();\r\nexport const db =firebase.firestore();\r\nexport const mealPlan=db.collection('MealPlan');\r\nexport default firebase;","import React from 'react';\r\nimport firebase from '../firebase/firebase'\r\nimport { NavLink } from 'react-router-dom';\r\nimport About from '../home/aboutUs';\r\n\r\nexport default class LoggedInHeader extends React.Component {\r\n    state = {\r\n        error: null\r\n    }\r\n    logOutUser = () => {\r\n        firebase.auth().signOut()\r\n            .then(window.location = \"/\")\r\n            .catch(error => {\r\n                this.setState({ error })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header className=\"header\">\r\n                <span className=\"header-brand\">\r\n                    <NavLink to='/'><b className=\"bold\">plan</b>my.ml</NavLink>\r\n                </span>\r\n                <span className=\"header-link\">\r\n                    <NavLink to='/plan'>Meal Plans</NavLink>\r\n                </span>\r\n                <span className=\"header-link\">\r\n                    <NavLink to='/profile'>Profile</NavLink>\r\n                </span>\r\n                <span className=\"header-link\">\r\n                    <NavLink to='/About'>About Us</NavLink>\r\n                </span>\r\n                <span className=\"header-login\">\r\n                    <a href=\"/#\" className=\"btn-login\"  onClick={this.logOutUser}>LOG OUT</a>\r\n                </span>\r\n            </header>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport firebase from 'firebase';\r\n\r\nexport default class aboutUs extends React.Component {\r\n    state = {\r\n        user: null,\r\n        error: null,\r\n    }\r\n\r\n    componentDidMount() {\r\n        firebase.auth().onAuthStateChanged(user => {\r\n            if (user) {\r\n                this.setState({ user })\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                This was a project created for our CS353 Team Project module.\r\n\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport firebase from '../firebase/firebase';\r\nimport { Modal } from 'react-materialize';\r\nimport Swal from 'sweetalert2';\r\nimport withReactContent from 'sweetalert2-react-content';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass LoginPopUp extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            error: null\r\n        }\r\n    }\r\n\r\n    //change the state when the content change in the form\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n    }\r\n\r\n    //handle the submit\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const { email, password } = this.state;\r\n        firebase.auth()\r\n            .signInWithEmailAndPassword(email, password)\r\n            .then(() => {\r\n                this.setState({\r\n                    email: '',\r\n                    password: '',\r\n                    error: null,\r\n                    forget: false\r\n                });\r\n                const MySwal = withReactContent(Swal);\r\n                MySwal.fire({\r\n                    icon: 'success',\r\n                    title: 'Logged In',\r\n                    showConfirmButton: false,\r\n                    timer: 1500\r\n                });\r\n                //TODO: for a smoother transition for closing, change props.history with a call to close modal\r\n                console.log(this.props.history)\r\n                this.props.history.push('/plan');\r\n            })\r\n            .catch(error => {\r\n                this.setState({ error });\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n    //handle the forget password process\r\n    handleForget = (e) => {\r\n        e.preventDefault();\r\n        const { email } = this.state;\r\n        firebase.auth()\r\n            .sendPasswordResetEmail(email)\r\n            .then(() => {\r\n                this.setState({\r\n                    email: '',\r\n                    password: '',\r\n                    error: null,\r\n                    forget: false\r\n                });\r\n                const MySwal = withReactContent(Swal);\r\n                MySwal.fire({\r\n                    icon: 'success',\r\n                    title: 'Reset password email sent',\r\n                    showConfirmButton: false,\r\n                    timer: 1500\r\n                })\r\n                this.props.history.push('/');\r\n            })\r\n            .catch(error => {\r\n                this.setState({ error });\r\n            })\r\n    }\r\n\r\n    render() {\r\n        const LoginTrigger = <p onClick={() => this.setState({ forget: false })} className=\"btn-login\">LOGIN</p>;\r\n        //console.log(this.state);\r\n        return (\r\n            <Modal trigger={LoginTrigger} actions={false} className=\"login\">\r\n                {this.state.forget ?\r\n                    (<div>\r\n                        <h3 className=\"login-header\">Forgot your password?</h3>\r\n                        <form onSubmit={this.handleForget} className=\"form\">\r\n                            <p className=\"text\">Don't worry. We will send you a link so that you can restore it. </p>\r\n                            <br />\r\n                            <label className=\"label\">Email:</label>\r\n                            <input required className=\"input\" type=\"text\" name=\"email\" id=\"email\" placeholder={\"Enter Email\"} onChange={this.handleChange} />\r\n                            <p className=\"forgot\" onClick={() => this.setState({ forget: false })}>I remembered!</p>\r\n                            <button type=\"submit\" className=\"btn-login\" >RESET PASSWORD</button>\r\n                        </form>\r\n                    </div>)\r\n                    :\r\n                    (<div>\r\n                        <h3 className=\"login-header\">Login Member</h3>\r\n                        <form onSubmit={this.handleSubmit} className=\"form\">\r\n                            <label className=\"label\">Email: </label>\r\n                            <input required className=\"input\" type=\"text\" name=\"email\" id=\"email\" placeholder={\"Enter Email\"} onChange={this.handleChange} />\r\n                            <br></br>\r\n                            <label className=\"label\">Password:</label>\r\n                            <input required className=\"input\" type=\"password\" id=\"password\" name=\"password\" placeholder={\"Enter Password\"} style={{}} onChange={this.handleChange} />\r\n                            <br></br>\r\n                            <div>\r\n                                {this.state.error ? <p style={{ color: \"red\" }}>{this.state.error.message}</p> : null}\r\n                            </div>\r\n                            <p className=\"forgot\" onClick={() => this.setState({ forget: true })}>forgot your password?</p>\r\n                            {/*{this.state.user ? null : <NavLink className=\"forgot\" to='/register'>create an account</NavLink>}*/}\r\n                            {this.state.user ? null : <NavLink className=\"forgot\" to='/register'>create an account</NavLink>}\r\n                            <button type=\"submit\" className=\"btn-login\" >LOGIN</button>\r\n\r\n                        </form>\r\n                    </div>)\r\n                }\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(LoginPopUp)\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport LoginPopUP from '../authentication/loginPopUp';\r\nimport About from '../home/aboutUs';\r\n\r\nexport default class LoggedOutHeader extends React.Component {\r\n    render() {\r\n        return (\r\n            <header className=\"header\">\r\n                <span className=\"header-brand\">\r\n                    <NavLink to='/'><b className=\"bold\">plan</b>my.ml</NavLink>\r\n                </span>\r\n                <span className=\"header-link\">\r\n                    <NavLink to='/register'>Meal Plans</NavLink>\r\n                </span>\r\n                <span className=\"header-link\">\r\n                    <NavLink to='/register'>Profile</NavLink>\r\n                </span>\r\n                <span className=\"header-link\">\r\n                    <NavLink to='/About'>About Us</NavLink>\r\n                </span>\r\n                <span className=\"header-login\">\r\n                    <LoginPopUP history={this.props.history}/>\r\n                </span>\r\n            </header>\r\n        );\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default class SearchResultTile extends React.Component{\r\n    dragStart = e =>{\r\n        const foodObj={\r\n            label:this.props.label,\r\n            foodId:this.props.foodId,\r\n            cal:this.props.Cal,\r\n            fat:this.props.Fat,\r\n            pro:this.props.Pro,\r\n            carbs:this.props.Carbs,\r\n            qty: this.props.Qty\r\n        };\r\n        var foodJSON=JSON.stringify(foodObj);\r\n\r\n        //NOTE: .setData takes a string argument for data to be passed, hence the JSON.stringify\r\n        e.dataTransfer.setData('foodJSON',foodJSON);\r\n\r\n        // setTimeout(() =>{\r\n        //     target.style.display=\"none\";\r\n        // },0)\r\n    }\r\n\r\n    dragOver = e =>{\r\n        e.stopPropagation();\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"api-item\"\r\n                 id={this.props.id}\r\n                 draggable={this.props.draggable}\r\n                 onDragStart={this.dragStart}\r\n                 onDragOver={this.dragOver}\r\n            >\r\n                <h3 className=\"food-title\">{this.props.label} <b className=\"food-qty\">({this.props.Qty} g)</b></h3>\r\n                <div className=\"food-info\" id={\"foodNutr\"+this.props.index}>\r\n                    <p className=\"info-line\"><b className=\"nutrient-name\">Calories</b>{this.props.Cal}kcal</p>\r\n                    <p className=\"info-line\"><b className=\"nutrient-name\">Fat</b>{this.props.Fat}g</p>\r\n                    <p className=\"info-line\"><b className=\"nutrient-name\">Carbs</b>{this.props.Carbs}g</p>\r\n                    <p className=\"info-line\"><b className=\"nutrient-name\">Protein</b>{this.props.Pro}g</p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport {TextInput} from 'react-materialize';\r\nimport axios from 'axios';\r\nimport SearchResultTile from \"./SearchResultTile\";\r\nimport firebase from '../firebase/firebase';\r\nimport {db,mealPlan} from '../firebase/firebase';\r\nexport default class SearchBar extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\t\tthis.state = {\r\n\t\t\tsearchTerm: '',\r\n\t\t\tresults: '',\r\n            qtyGrams: 100,\r\n            lastSearch: '',\r\n\t\t}\r\n    }\r\n\r\n\t//change the state when the content change in the form\r\n\thandleChange = (e) => {\r\n        let val = e.target.value;\r\n        if(e.target.id === \"qtyGrams\"){\r\n            val = (+e.target.value);\r\n        }\r\n\t\tthis.setState({\r\n\t\t\t[e.target.id]: val\r\n\t\t})\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n        var user = firebase.auth().currentUser;\r\n        if (user) {\r\n            //console.log(user.uid);\r\n        } else {\r\n            // No user is signed in.\r\n        }\r\n\r\n        // mealPlan.doc('sendTest').get()\r\n        //     .then(doc => {\r\n        //         if(doc.exists){\r\n        //             console.log(\"weee\");\r\n        //         }else{\r\n        //             console.log(\"uuuuuu\");\r\n        //         }\r\n        //     })\r\n    }\r\n\r\n    //Rounds a number to only \"exp\" decimals :\r\n    // https://stackoverflow.com/questions/1726630/formatting-a-number-with-exactly-two-decimals-in-javascript\r\n\tround = (value, exp) => {\r\n        if (typeof exp === 'undefined' || +exp === 0)\r\n            return Math.round(value);\r\n\r\n        value = +value;\r\n        exp = +exp;\r\n\r\n        if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0))\r\n            return 0;\r\n\r\n        // Shift\r\n        value = value.toString().split('e');\r\n        value = Math.round(+(value[0] + 'e' + (value[1] ? (+value[1] + exp) : exp)));\r\n\r\n        // Shift back\r\n        value = value.toString().split('e');\r\n        return +(value[0] + 'e' + (value[1] ? (+value[1] - exp) : -exp));\r\n    }\r\n\r\n     keyPressed = async (event) => {\r\n        if ((event.key === \"Enter\" || event.type === \"click\") && this.state.lastSearch !== this.state.searchTerm) {\r\n            document.body.style.cursor = \"progress\";\r\n\t\t\tlet urlFood=encodeURI(this.state.searchTerm);\r\n            //making a hard coded post request for an apple\r\n            let results= await axios.get(\"https://api.edamam.com/api/food-database/parser?ingr=\"\r\n                +urlFood+\"&app_id=9ccfd3ea&app_key=422e0ba66ae6c563f47a9fe391a437f0\")\r\n                .then(function(response){\r\n\r\n                    console.log(\"----------Response JSON----------\");\r\n                    console.log(response.data);\r\n                    console.log(\"---------------------------------\");\r\n\r\n                    var obj=response.data;\r\n\r\n                    return obj;\r\n                })\r\n                .catch(function(error){\r\n                    console.log(error);\r\n                    return \"Error 400\";\r\n            })\r\n            //stops from setting state when user inputs empty string\r\n            if(results !== \"Error 400\"){\r\n                this.setState({\r\n                    results: results,\r\n                    lastSearch: this.state.searchTerm,\r\n                })\r\n                document.body.style.cursor = \"default\";\r\n            }else{\r\n                console.log(\"Empty Search Parameters!\");\r\n                document.body.style.cursor = \"default\";\r\n            }\r\n        }\r\n    }\r\n\r\n    //TODO: Add functionality that prevents multiple calls to the api at a time with a clear loading indicator\r\n\r\n    render() {\r\n\t\t//console.log(this.state);\r\n        return (\r\n            <div className=\"searchbar\">\r\n                <div className=\"search-header\">\r\n                    <h3 className=\"search-title\">Search your meals</h3>\r\n                    <TextInput placeholder=\"Search...\" icon=\"search\" className=\"search-input\" id=\"searchTerm\"\r\n                               onKeyPress={this.keyPressed} onChange={this.handleChange}/>\r\n\t\t\t\t\t<div className=\"icon-click\" onClick={this.keyPressed}>\r\n                    </div>\r\n                    <input className=\"qty-input\" id=\"qtyGrams\" type=\"number\" step=\"10\" min=\"0\" placeholder=\"100\"\r\n                           onChange={this.handleChange}></input>\r\n                    <p className=\"qty-label\" > g</p>\r\n                </div>\r\n                <div className=\"search-results\">\r\n\r\n                    {this.state.results.hints && this.state.results.hints!==\"\" ?\r\n                        this.state.results.hints.map((obj,index) => {\r\n                            return (\r\n                                    <SearchResultTile\r\n                                        id={\"foodRes\"+index}\r\n                                        key={\"foodRes\"+index}\r\n                                        draggable=\"true\"\r\n                                        index={index}\r\n                                        label={obj.food.label}\r\n                                        foodId={obj.food.foodId}\r\n                                        Cal={this.round(obj.food.nutrients.ENERC_KCAL*(this.state.qtyGrams/100), 2)}\r\n                                        Fat={this.round(obj.food.nutrients.FAT*(this.state.qtyGrams/100), 2)}\r\n                                        Carbs={this.round(obj.food.nutrients.CHOCDF*(this.state.qtyGrams/100), 2)}\r\n                                        Pro={this.round(obj.food.nutrients.PROCNT*(this.state.qtyGrams/100), 2)}\r\n                                        Qty={this.state.qtyGrams}\r\n                                    />\r\n                            );\r\n                        }) :\r\n                        (\r\n                            <div>\r\n                                   Search something! (we could add an ilustration)\r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                    {\r\n                        (this.state.results.hints && this.state.results.hints.length <= 0) ?\r\n                            (\r\n                                <div>\r\n                                    No results (we could add an ilustration)\r\n                                </div>\r\n                            ) : null\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport {Button,Icon} from 'react-materialize'\r\n\r\nexport default class FoodItem extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    //Function from article \"robinwieruch.de/react-state-array-add-update-remove\"\r\n    onRemoveItem=i=>{\r\n        this.setState();\r\n    }\r\n\r\n    render() {\r\n        const obj=this.props.obj;\r\n        return(\r\n            <div className=\"foodItem\" key={\"foodItem\"+ this.props.index}>\r\n                <p key={\"p\"+ this.props.index} className=\"foodItemTitle gmd-1\">{obj.label}\r\n                    <Button className=\"foodItemDel\"\r\n                            flat icon={<Icon>close</Icon>}\r\n                            onClick={this.props.onDel}\r\n                            value={this.props.index}\r\n                            key={\"but\"+ this.props.index}\r\n                    />\r\n                    <b className=\"foodItemQty\" key={\"b\"+ this.props.index}>\r\n                        ({obj.qty}g)\r\n                    </b>\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport FoodItem from \"./FoodItem\";\r\n\r\nexport default class DragDropTest extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tfoodList: [],\r\n\t\t\ttotalNutr: {\r\n\t\t\t\tcal: \"\",\r\n\t\t\t\tfat: \"\",\r\n\t\t\t\tpro: \"\",\r\n\t\t\t\tcarbs: \"\",\r\n\t\t\t},\r\n\t\t\tfoodListNutr:{\r\n\t\t\t\tcal: \"\",\r\n\t\t\t\tfat: \"\",\r\n\t\t\t\tpro: \"\",\r\n\t\t\t\tcarbs: \"\",\r\n\t\t\t\tqty: 0\r\n\t\t\t},\r\n\t\t\tboxEmpty:true\r\n\t\t};\r\n\t\tif(this.props.foodObjProp!==undefined && this.props.foodObjProp.length !==0){\r\n\t\t\tthis.state.foodList=this.props.foodObjProp;\r\n\t\t\t/*console.log(\"One food item goes here...\",this.state.foodList);*/\r\n\t\t\tthis.state.boxEmpty=false;\r\n\t\t}\r\n\t\tthis.targetDel=this.targetDel.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\t//only groups food when dropBox has food saved in it\r\n\t\tif(this.state.boxEmpty===false){\r\n\t\t\tthis.groupFoodList();\r\n\t\t}\r\n\t}\r\n\r\n\tdrop = async e => {\r\n\t\te.preventDefault();\r\n\t\tconst foodJSON = e.dataTransfer.getData('foodJSON');\r\n\t\tconst foodObj = JSON.parse(foodJSON);\r\n\r\n\t\tawait this.setState(prevState => {\r\n\t\t\tlet foodList = prevState.foodList;\r\n\t\t\tlet temp = {\r\n\t\t\t\tlabel: foodObj.label,\r\n\t\t\t\tfoodId:foodObj.foodId,\r\n\t\t\t\tcal: foodObj.cal,\r\n\t\t\t\tfat: foodObj.fat,\r\n\t\t\t\tpro: foodObj.pro,\r\n\t\t\t\tcarbs: foodObj.carbs,\r\n\t\t\t\tqty: foodObj.qty\r\n\t\t\t};\r\n\t\t\t//console.log(temp);\r\n\t\t\tfoodList.push(temp);\r\n\t\t\t//console.log(foodList);\r\n\t\t\treturn {foodList};\r\n\t\t})\r\n\t\t//e.target.appendChild(card);\r\n\t\tthis.groupFoodList();\r\n\t};\r\n\r\n\tdragOver = e => {\r\n\t\te.preventDefault();\r\n\t};\r\n\r\n\tonRemoveItem = i =>{\r\n\t\tthis.setState(state=>{\r\n\t\t\tconst foodList=state.foodList.filter((item,j) => i!==j);\r\n\t\t\treturn {foodList};\r\n\t\t});\r\n\t};\r\n\r\n\tasync targetDel(e){\r\n\t\tconsole.log(\"WOW! it was you NUMBER \"+e.currentTarget.value);\r\n\t\tlet i=parseInt(e.currentTarget.value);\r\n\t\tawait this.onRemoveItem(i);\r\n\t\tthis.groupFoodList();\r\n\t};\r\n\r\n\tasync groupFoodList(){\r\n\t\tlet totalNutr;\r\n\t\tif(this.state.foodList.length > 0) {\r\n\t\t\t//Groups the food by label\r\n\t\t\tlet grpFood = this.state.foodList.reduce((acc, cv) => {\r\n\t\t\t\t//If its the first food with that label that we find, we create an space in the array for it\r\n\t\t\t\tif (!acc[cv.label]) {\r\n\t\t\t\t\tacc[cv.label] = {};\r\n\t\t\t\t\tacc[cv.label].label = cv.label;\r\n\t\t\t\t\tacc[cv.label].foodId= cv.foodId;\r\n\t\t\t\t\tacc[cv.label].cal = acc[cv.label].fat = acc[cv.label].pro = acc[cv.label].carbs = acc[cv.label].qty = 0;\r\n\t\t\t\t}\r\n\t\t\t\t//We add up the nutrients of the same label\r\n\t\t\t\tacc[cv.label].cal += cv.cal;\r\n\t\t\t\tacc[cv.label].fat += cv.fat;\r\n\t\t\t\tacc[cv.label].pro += cv.pro;\r\n\t\t\t\tacc[cv.label].carbs += cv.carbs;\r\n\t\t\t\tacc[cv.label].qty += (+cv.qty);\r\n\t\t\t\treturn acc;\r\n\t\t\t}, {});\r\n\r\n\t\t\t//This is an object of objects now with all of them grouped by name\r\n\r\n\t\t\t//Now we transform it to an array again\r\n\t\t\tgrpFood = Object.keys(grpFood).map(key => {\r\n\t\t\t\tlet { label, foodId, cal, fat, pro, carbs, qty } = grpFood[key];\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel, foodId, cal,fat,pro,carbs,qty\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\t// console.log(\"!Group In Tile Dropped:\");\r\n\t\t\t// console.log(grpFood);\r\n\r\n\t\t\t//Now we calculate total nutrition\r\n\t\t\ttotalNutr = grpFood.reduce((a,b) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcal: a.cal + b.cal,\r\n\t\t\t\t\tfat: a.fat + b.fat,\r\n\t\t\t\t\tpro: a.pro + b.pro,\r\n\t\t\t\t\tcarbs: a.carbs + b.carbs,\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tawait this.setState({\r\n\t\t\t\tfoodList: grpFood,\r\n\t\t\t\ttotalNutr: totalNutr,\r\n\t\t\t})\r\n\t\t\tthis.props.getTotalNutr(this.state.totalNutr, this.props.index);\r\n\t\t\tthis.props.cacheTile(this.state.foodList,this.props.index);\r\n\t\t}\r\n\t\telse {\r\n\t\t\ttotalNutr = {cal: 0, pro: 0, fat: 0, carbs: 0};\r\n\t\t\tawait this.setState({\r\n\t\t\t\tfoodList: [],\r\n\t\t\t\ttotalNutr: totalNutr,\r\n\t\t\t})\r\n\t\t\tthis.props.getTotalNutr(this.state.totalNutr, this.props.index);\r\n\t\t\tthis.props.cacheTile(this.state.foodList,this.props.index);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<td className=\"dropBox\"\r\n\t\t\t\tid={this.props.id}\r\n\t\t\t\tonDrop={this.drop}\r\n\t\t\t\tonDragOver={this.dragOver}\r\n\t\t\t>\r\n\t\t\t\t{this.state.foodList[0]?\r\n\t\t\t\t\tthis.state.foodList.map((obj,index) =>{\r\n\t\t\t\t\t\t/*console.log(\"rendering...\",this.state.foodList);*/\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<FoodItem\r\n\t\t\t\t\t\t\t\tobj={obj}\r\n\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\tonDel={this.targetDel}\r\n\t\t\t\t\t\t\t\tkey={this.props.index+\"food\"+index}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>Add Item</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t}\r\n\t\t\t</td>\r\n\t\t);\r\n\t};\r\n\r\n}\r\n","import React from 'react'\r\nimport DragDropBox from \"./DragDropBox\";\r\nexport default class WeekPlan extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {}\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <table className=\"mealplan\">\r\n                        <thead>\r\n                        <tr className=\"plan-header\">\r\n                            <th>Mon</th>\r\n                            <th>Tue</th>\r\n                            <th>Wed</th>\r\n                            <th>Thu</th>\r\n                            <th>Fri</th>\r\n                            <th>Sat</th>\r\n                            <th>Sun</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.props.rows}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react'\r\nimport firebase from '../firebase/firebase';\r\nexport default class NutriScore extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            //all of this will be props\r\n            planned_values: {\r\n                kcal: 2000,\r\n                prots: 40,\r\n                carbs: 250,\r\n                fats: 100,\r\n            },\r\n            actual_values: {\r\n                kcal: 1800,\r\n                prots: 38,\r\n                carbs: 200,\r\n                fats: 150,\r\n            },\r\n            nutriscore: {}\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        firebase.auth().onAuthStateChanged(user => {\r\n            if (user) {\r\n                this.setState({ user })\r\n                let profileRef = firebase.firestore().collection('profiles').doc(user.uid).get().then(doc => {\r\n                    //console.log(doc.data())\r\n                    this.setState((preState) => ({ ...preState.user, ...doc.data() })\r\n                    )\r\n                    //console.log(this.state)\r\n                });\r\n                //console.log(this.state)\r\n            } else {\r\n                this.props.history.push('/');\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    async componentDidUpdate() {\r\n        var kcal = (this.props.actual_values.kcal/this.props.planned_values.kcal)*100;\r\n        var prots = (this.props.actual_values.prots/this.props.planned_values.prots)*100;\r\n        var carbs = (this.props.actual_values.carbs/this.props.planned_values.carbs)*100;\r\n        var fats = (this.props.actual_values.fats/this.props.planned_values.fats)*100;\r\n\r\n        document.getElementById(\"kcalbar\").style.width= kcal + '%';\r\n        document.getElementById(\"protsbar\").style.width= prots + '%';\r\n        document.getElementById(\"carbsbar\").style.width= carbs + '%';\r\n        document.getElementById(\"fatsbar\").style.width= fats + '%';\r\n\r\n        /*\r\n        await this.setState({\r\n            nutriscore: {\r\n                kcal: kcal,\r\n                prots: prots,\r\n                carbs: carbs,\r\n                fats: fats,\r\n            },\r\n        });\r\n        */\r\n    }\r\n\r\n    //Rounds a number to only \"exp\" decimals :\r\n    // https://stackoverflow.com/questions/1726630/formatting-a-number-with-exactly-two-decimals-in-javascript\r\n    round = (value, exp) => {\r\n        if (typeof exp === 'undefined' || +exp === 0)\r\n            return Math.round(value);\r\n\r\n        value = +value;\r\n        exp = +exp;\r\n\r\n        if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0))\r\n            return 0;\r\n\r\n        // Shift\r\n        value = value.toString().split('e');\r\n        value = Math.round(+(value[0] + 'e' + (value[1] ? (+value[1] + exp) : exp)));\r\n\r\n        // Shift back\r\n        value = value.toString().split('e');\r\n        return +(value[0] + 'e' + (value[1] ? (+value[1] - exp) : -exp));\r\n    }\r\n\r\n    render() {\r\n        const { calories, carbs, protein, fats} = this.state;\r\n        return (\r\n            <div className=\"nutriscore\">\r\n                <h3 className=\"title\">NutriScore</h3>\r\n                <div className=\"nutribar-container\">\r\n                    <div className=\"nutribar\">\r\n                        <span className=\"bar\" id=\"kcalbar\"/>\r\n                        <span className=\"counter\">{this.round(this.props.actual_values.kcal,2)}\r\n                        /{this.state.calories*7}</span>\r\n                    </div>\r\n                    <div className=\"subtitle\">Calories: </div>\r\n                </div>\r\n                <div className=\"nutribar-container\">\r\n                    <div className=\"nutribar\">\r\n                        <span className=\"bar\" id=\"protsbar\"/>\r\n                        <span className=\"counter\">{this.round(this.props.actual_values.prots,2)}\r\n                        /{this.state.protein*7}</span>\r\n                    </div>\r\n                    <div className=\"subtitle\">Prots: </div>\r\n                </div>\r\n                <div className=\"nutribar-container\">\r\n                    <div className=\"nutribar\">\r\n                        <span className=\"bar\" id=\"carbsbar\"/>\r\n                        <span className=\"counter\">{this.round(this.props.actual_values.carbs,2)}\r\n                        /{this.state.carbs*7}</span>\r\n                    </div>\r\n                    <div className=\"subtitle\">Carbs: </div>\r\n                </div>\r\n                <div className=\"nutribar-container\">\r\n                    <div className=\"nutribar\">\r\n                        <span className=\"bar\" id=\"fatsbar\"/>\r\n                        <span className=\"counter\">{this.round(this.props.actual_values.fats,2)}\r\n                        /{this.state.fats*7}</span>\r\n                    </div>\r\n                    <div className=\"subtitle\">Fats: </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","//import React from 'react';\r\n// firebase from '../firebase/firebase';\r\nimport {mealPlan} from '../firebase/firebase';\r\nexport const mealPlanOBJTemplate={\r\n    monday:{\r\n        \"meal1\":[{\r\n            LABEL:\"\",\r\n            FOOD_ID:\"\",\r\n            CAL:0,\r\n            CARBS:0,\r\n            FAT:0,\r\n            PRO:0\r\n        }]\r\n    },\r\n    tuesday:{\r\n        \"meal1\":[{\r\n            LABEL:\"\",\r\n            FOOD_ID:\"\",\r\n            CAL:0,\r\n            CARBS:0,\r\n            FAT:0,\r\n            PRO:0\r\n        }]\r\n    },\r\n    wednesday:{\r\n        \"meal1\":[{\r\n            LABEL:\"\",\r\n            FOOD_ID:\"\",\r\n            CAL:0,\r\n            CARBS:0,\r\n            FAT:0,\r\n            PRO:0\r\n        }]\r\n    },\r\n    thursday:{\r\n        \"meal1\":[{\r\n            LABEL:\"\",\r\n            FOOD_ID:\"\",\r\n            CAL:0,\r\n            CARBS:0,\r\n            FAT:0,\r\n            PRO:0\r\n        }]\r\n    },\r\n    friday:{\r\n        \"meal1\":[{\r\n            LABEL:\"\",\r\n            FOOD_ID:\"\",\r\n            CAL:0,\r\n            CARBS:0,\r\n            FAT:0,\r\n            PRO:0\r\n        }]\r\n    },\r\n    saturday:{\r\n        \"meal1\":[{\r\n            LABEL:\"\",\r\n            FOOD_ID:\"\",\r\n            CAL:0,\r\n            CARBS:0,\r\n            FAT:0,\r\n            PRO:0\r\n        }]\r\n    },\r\n    sunday:{\r\n        \"meal1\":[{\r\n            LABEL:\"\",\r\n            FOOD_ID:\"\",\r\n            CAL:0,\r\n            CARBS:0,\r\n            FAT:0,\r\n            PRO:0\r\n        }]\r\n    }\r\n}\r\n\r\nexport function addMealPlanDoc(userID){\r\n    mealPlan.doc(userID).set({\r\n    userID:userID\r\n    })\r\n        .then(function() {\r\n            console.log(\"Collection added to Firestore!\");\r\n            let promises = [];\r\n            const timestamp = new Date().toLocaleString('en-GB', { timeZone: 'UTC' });\r\n            let actualMealPlanObj=mealPlanOBJTemplate;\r\n            Object.assign(actualMealPlanObj,{timestamp:timestamp});\r\n            promises.push(mealPlan.doc(userID).collection('Actual').add(actualMealPlanObj));\r\n            promises.push(mealPlan.doc(userID).collection('Template').doc('default').set(mealPlanOBJTemplate));\r\n            Promise.all(promises).then(function() {\r\n                console.log(\"All mealPlan subcollections were added!\");\r\n            })\r\n                .catch(function(error){\r\n                    console.log(\"Error adding subcollections to Firestore: \" + error);\r\n                });\r\n        })\r\n        .catch(function(error){\r\n            console.log(\"Error adding document to Firestore: \" + error);\r\n        });\r\n}\r\n\r\nexport function saveMealPlanTemplate(userID,cachedMeals){\r\n    console.warn(\"Saving user \"+userID+\" 's meal plan template...\");\r\n    console.warn(cachedMeals);\r\n\r\n    mealPlan.doc(userID).collection('Template').doc('default').set(cachedMeals,{merge:true});\r\n}","import React from 'react';\r\nimport SearchBar from './searchBar';\r\nimport WeekPlan from './weekPlan';\r\nimport NutriScore from './nutriScore';\r\nimport DragDropBox from \"./DragDropBox\";\r\nimport firebase from '../firebase/firebase';\r\nimport {db,mealPlan} from '../firebase/firebase';\r\nimport {addMealPlanDoc, saveMealPlanTemplate} from \"../firebase/DbObjectsMethods\";\r\nimport loadingSvg from '../../images/loading.svg';\r\nimport homepage_gif from \"../../images/homepage-gif.gif\";\r\n// import DragDropTest from './DragDropTest';\r\n// import InitialBox from \"./testY\";\r\n\r\nexport default class MealPlannerPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            uid:\"\",                     /* User ID*/\r\n            rowcount: 1,                /* Number of rows*/\r\n            mealplansaved: false,       /* Checks if the plan is being created or it's already saved*/\r\n            creationcheck: '',          /* Checks if the user ever created a plan or if its their first*/\r\n            totalNutrPlan:  {           /* Nutrition values for the created plan */\r\n                kcal: 0,\r\n                prots: 0,\r\n                carbs: 0,\r\n                fats: 0,\r\n            },\r\n            totalNutrReal:  {           /* Nutrition values for the actual eating meals during the week */\r\n                kcal: 0,\r\n                prots: 0,\r\n                carbs: 0,\r\n                fats: 0,\r\n            },\r\n            totalNutrRecomended:  {     /* Nutrition values for the the recommended diet depending on user data */\r\n                kcal: 2000*7,\r\n                prots: 200*7,\r\n                carbs: 100*7,\r\n                fats: 80*7,\r\n            },\r\n            nutritionValues: [],        /* Array with nutrition values for every tile */\r\n            cachedMeals:{\r\n                monday:{},\r\n                tuesday:{},\r\n                wednesday:{},\r\n                thursday:{},\r\n                friday:{},\r\n                saturday:{},\r\n                sunday:{}\r\n            },\r\n            rows: [],                   /* Html rows */\r\n            tilesCached:false,\r\n        };\r\n        this.addRow = this.addRow.bind(this);\r\n        this.saveMealplan = this.saveMealplan.bind(this);\r\n        this.deleteMealplan = this.deleteMealplan.bind(this);\r\n        this.getTotalNutr = this.getTotalNutr.bind(this);\r\n        this.cacheTile=this.cacheTile.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await firebase.auth().onAuthStateChanged(user => {\r\n            if (user) {\r\n                let userID=user.uid;\r\n                this.setState({ uid:userID});\r\n                console.log(\"User:\"+userID+\" is logged in.\");\r\n\r\n                /*Retrieve from the database if the user already has a mealplan*/\r\n                mealPlan.doc(userID).collection(\"Template\").doc(\"default\").get()\r\n                    .then(doc => {\r\n                        if(doc.exists){\r\n                            this.setState({creationcheck:true}); //MealPlan was already created\r\n                            console.log(\"Retrieving Meal Plan...\");\r\n                            console.log(\"MealPlan\",doc.data());\r\n                            this.state.cachedMeals=doc.data();\r\n                            this.saveMealplan();\r\n                            this.addRow();\r\n                            this.addRow();\r\n                            this.addRow();\r\n                        }else {\r\n                            this.setState({creationcheck:false});\r\n                        }\r\n\r\n                    })\r\n            }\r\n        })\r\n    }\r\n\r\n    /*\r\n    This function is used whenever we add a new item to the mealplan. It will get the nutrition of that tile and update\r\n     */\r\n    async getTotalNutr(tileNutr, key){\r\n        let totalNutrWeek;\r\n\r\n        if(tileNutr){\r\n            /*console.log(\"TILE NUTR:\");\r\n            console.log(tileNutr);*/\r\n\r\n            this.state.nutritionValues[key] = tileNutr;\r\n            ++this.state.nutritionValues.length;\r\n        }\r\n\r\n        if(this.state.nutritionValues.length > 1){\r\n            let foodArray = this.state.nutritionValues;\r\n            foodArray = Object.keys(foodArray).map(key => {\r\n                if(foodArray[key] !== 0) {\r\n                    let {cal, fat, pro, carbs} = foodArray[key];\r\n                    return {\r\n                        cal, fat, pro, carbs\r\n                    };\r\n                }\r\n            });\r\n            totalNutrWeek = foodArray.reduce((a,b) => {\r\n                if(a && b) {\r\n                    //console.log(a, b);\r\n                    return ({\r\n                        cal: a.cal + b.cal,\r\n                        fat: a.fat + b.fat,\r\n                        pro: a.pro + b.pro,\r\n                        carbs: a.carbs + b.carbs,\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            totalNutrWeek = tileNutr;\r\n        }\r\n\r\n        // console.log(\"!Nutrition per day & row\");\r\n        // console.log(this.state.nutritionValues);\r\n        // console.log(\"!Total Nutrition Calc\");\r\n        // console.log(totalNutrWeek);\r\n\r\n        this.setState(\r\n            {nutritionValues: this.state.nutritionValues,\r\n                totalNutrPlan:  {\r\n                    kcal: totalNutrWeek.cal,\r\n                    prots: totalNutrWeek.pro,\r\n                    carbs: totalNutrWeek.carbs,\r\n                    fats: totalNutrWeek.fat,\r\n                },\r\n        });\r\n    }\r\n\r\n    //could be combined into getTotalNutr, but would need to loop through every array item in each cell so possibly\r\n    //just as if not faster to have seperate methods, 'getTotalNutr' and 'cacheTile' for retrieving the\r\n    //total nutrition and descriptions of foods respectively in each tile.\r\n    async cacheTile(grpFood, key){\r\n        let split=key.split(\":\");\r\n        let day=split[0];\r\n        let meal=split[1];\r\n        if(grpFood){\r\n            let cachedMealsDay=this.state.cachedMeals[day];\r\n            Object.assign(cachedMealsDay,{[meal]:grpFood});\r\n            this.state.cachedMeals[day]=cachedMealsDay;\r\n            //console.warn(this.state.cachedMeals);\r\n        }\r\n        this.setState({tilesCached: true});\r\n    }\r\n\r\n    addRow() {\r\n        let rowkey = \"meal\"+this.state.rowcount;\r\n        //console.log(this.state.cachedMeals.tuesday[\"meal1\"]);\r\n        let joined = this.state.rows.concat(\r\n            <tr key={rowkey}>\r\n                <DragDropBox index={\"monday:\"+rowkey} getTotalNutr={this.getTotalNutr} cacheTile={this.cacheTile} foodObjProp={this.state.cachedMeals.monday[rowkey]}/>\r\n                <DragDropBox index={\"tuesday:\"+rowkey} getTotalNutr={this.getTotalNutr} cacheTile={this.cacheTile} foodObjProp={this.state.cachedMeals.tuesday[rowkey]}/>\r\n                <DragDropBox index={\"wednesday:\"+rowkey} getTotalNutr={this.getTotalNutr} cacheTile={this.cacheTile} foodObjProp={this.state.cachedMeals.wednesday[rowkey]}/>\r\n                <DragDropBox index={\"thursday:\"+rowkey} getTotalNutr={this.getTotalNutr} cacheTile={this.cacheTile} foodObjProp={this.state.cachedMeals.thursday[rowkey]}/>\r\n                <DragDropBox index={\"friday:\"+rowkey} getTotalNutr={this.getTotalNutr} cacheTile={this.cacheTile} foodObjProp={this.state.cachedMeals.friday[rowkey]}/>\r\n                <DragDropBox index={\"saturday:\"+rowkey} getTotalNutr={this.getTotalNutr} cacheTile={this.cacheTile} foodObjProp={this.state.cachedMeals.saturday[rowkey]}/>\r\n                <DragDropBox index={\"sunday:\"+rowkey} getTotalNutr={this.getTotalNutr} cacheTile={this.cacheTile} foodObjProp={this.state.cachedMeals.sunday[rowkey]}/>\r\n            </tr>\r\n        );\r\n        this.setState({ rows: joined,\r\n        rowcount: (++this.state.rowcount)})\r\n    }\r\n\r\n    async removeRow() {\r\n        let newRows = this.state.rows;\r\n        let rowkey = \"meal\"+(this.state.rowcount-1);\r\n        let newNutritionValues = [];\r\n        let index,i;\r\n\r\n        console.log(this.state.nutritionValues);\r\n\r\n        //This takes out from the list all the items that where in the row we are deleting\r\n        for(index in this.state.nutritionValues){\r\n            i = index.slice(-5);\r\n            console.log(i,rowkey);\r\n            if(i !== rowkey){\r\n                newNutritionValues[index] = this.state.nutritionValues[index];\r\n            }\r\n        }\r\n        console.log(newNutritionValues);\r\n        newRows.pop();\r\n\r\n        let totalNutrWeek;\r\n        let foodArray = newNutritionValues;\r\n\r\n        // We calculate again the nutrition values\r\n        foodArray = Object.keys(foodArray).map(key => {\r\n            if(foodArray[key] !== 0) {\r\n                let {cal, fat, pro, carbs} = foodArray[key];\r\n                return {\r\n                    cal, fat, pro, carbs\r\n                };\r\n            }\r\n        });\r\n        if(foodArray.length > 1) {\r\n            totalNutrWeek = foodArray.reduce((a, b) => {\r\n                if (a && b) {\r\n                    //console.log(a, b);\r\n                    return ({\r\n                        cal: a.cal + b.cal,\r\n                        fat: a.fat + b.fat,\r\n                        pro: a.pro + b.pro,\r\n                        carbs: a.carbs + b.carbs,\r\n                    });\r\n                }\r\n            });\r\n        }else {\r\n            if(foodArray.length === 0){\r\n                foodArray =foodArray.concat({\r\n                    cal: 0,\r\n                    fat: 0,\r\n                    pro: 0,\r\n                    carbs: 0,\r\n                });\r\n            }\r\n            totalNutrWeek = foodArray[0];\r\n        }\r\n\r\n        await this.setState({\r\n            rows: newRows,\r\n            rowcount: (--this.state.rowcount),\r\n            nutritionValues: newNutritionValues,\r\n            totalNutrPlan:  {\r\n                kcal: totalNutrWeek.cal,\r\n                prots: totalNutrWeek.pro,\r\n                carbs: totalNutrWeek.carbs,\r\n                fats: totalNutrWeek.fat,\r\n            },\r\n        })\r\n    }\r\n\r\n    saveMealplan(){\r\n        //TODO: Save 'actual items' when they are added vs an explicity save button for changing template/diet\r\n        this.setState({mealplansaved: true});\r\n\r\n        //has tiles been cached?\r\n        if(this.state.tilesCached){\r\n            let userID=this.state.uid;\r\n            saveMealPlanTemplate(userID,this.state.cachedMeals);\r\n        }else{\r\n            //console.warn(\"There is no items to save in your meal plan\");\r\n        }\r\n    }\r\n\r\n    //for some reason only arrow function works here...\r\n    createMealPlan=e=>{\r\n        this.setState({creationcheck: true});\r\n        if (this.state.uid!==\"\") {\r\n            let userID=this.state.uid;\r\n            //console.log(\"MY BOY -->\" +userID);\r\n\r\n            mealPlan.doc(userID).get()\r\n                .then(doc => {\r\n                    if(doc.exists){\r\n                        console.log(\"huh...a meal plan already exists...\");\r\n                    }else{\r\n                        console.log(\"creating meal plan for\"+userID);\r\n                        addMealPlanDoc(userID);\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    editButton(){\r\n        this.setState({\r\n            mealplansaved: false,\r\n        });\r\n    }\r\n\r\n    async deleteMealplan(){\r\n        await this.setState({\r\n            rowcount: 1,\r\n            mealplansaved: false,\r\n            creationcheck: true,\r\n            totalNutrPlan:  {\r\n                kcal: 0,\r\n                prots: 0,\r\n                carbs: 0,\r\n                fats: 0,\r\n            },\r\n            nutritionValues: [],\r\n            rows: [],});\r\n        await this.addRow();\r\n        await this.addRow();\r\n        await this.addRow();\r\n        //Here we should do the thing with the database\r\n    }\r\n\r\n    //Performs the creation process changing the view depending if the user has a mealplan saved or not\r\n    createProcess() {\r\n        if(this.state.mealplansaved){\r\n            return (\r\n                <div className=\"view\">\r\n                    <SearchBar/>\r\n                    <WeekPlan rows={this.state.rows}/>\r\n                    <div className=\"mp-settings\">\r\n                        <span className=\"btn-login edit\" onClick={() => this.editButton()}>EDIT</span>\r\n                        <span className=\"btn-login save\" onClick={this.saveMealplan}>SAVE</span>\r\n                    </div>\r\n                    <NutriScore planned_values={this.state.totalNutrRecomended} actual_values={this.state.totalNutrPlan}/>\r\n                </div>\r\n            )\r\n        }\r\n        else {\r\n            if(this.state.creationcheck === true){\r\n                return (\r\n                    <div className=\"view\">\r\n                        <SearchBar/>\r\n                        <WeekPlan rows={this.state.rows}/>\r\n                        <div className=\"mp-settings\">\r\n                            <span className=\"btn-login add\" onClick={this.addRow}>ADD</span>\r\n                            <span className=\"btn-login rm\" onClick={() => this.removeRow()}>REMOVE</span>\r\n                            <span className=\"btn-login del\" onClick={this.deleteMealplan}>DELETE</span>\r\n                            <span className=\"btn-login save\" onClick={this.saveMealplan}>SAVE</span>\r\n                        </div>\r\n                        <NutriScore planned_values={this.state.totalNutrRecomended} actual_values={this.state.totalNutrPlan}/>\r\n                    </div>\r\n                )\r\n            }\r\n            else if(this.state.creationcheck === false){\r\n                return (\r\n                    <div className=\"view create-help\">\r\n                        <div className=\"help-pic\">\r\n                           <img alt=\"screenshot - gif of how it works\"></img>\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"title\">Create your first meal plan</h3>\r\n                            <p>1. Search your meals in our food searcher</p>\r\n                            <p>2. Drag them into your mealplan</p>\r\n                            <p>3. Let our app calculate for you the total nutritional values.</p>\r\n                            <p>Then, confirm your planned meals or edit them with your actual intake to see your real\r\n                            values.</p>\r\n                            <span className=\"btn-login\" onClick={this.createMealPlan}>\r\n                                Create your mealplan\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n            else {\r\n                return (\r\n                    <div className=\"view create-help\">\r\n                        <img src={loadingSvg} alt=\"Loading...\" className=\"loadingSvg\"/>\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n       // console.log(this);\r\n        return (\r\n            this.createProcess()\r\n        );\r\n    }\r\n}","import React from 'react'\r\nimport Avatar from \"../../images/avatar.svg\";\r\nimport {RadioGroup, Select} from 'react-materialize';\r\nimport firebase from '../firebase/firebase';\r\nexport default class Goals extends React.Component {\r\n    state = {\r\n        user: null,\r\n        name: '',\r\n        age: '',\r\n        gender: null,\r\n        height: '',\r\n        weight: '',\r\n        activityLevel: '',\r\n        error: '',\r\n        diet:'',\r\n        calories: '',\r\n        carbs: '',\r\n        fats: '',\r\n        protein:'',\r\n    }\r\n    componentDidMount() {\r\n        firebase.auth().onAuthStateChanged(user => {\r\n            if (user) {\r\n                this.setState({ user })\r\n                let profileRef = firebase.firestore().collection('profiles').doc(user.uid).get().then(doc => {\r\n                    //console.log(doc.data())\r\n                    this.setState((preState) => ({ ...preState.user, ...doc.data() })\r\n                    )\r\n                    //console.log(this.state)\r\n                });\r\n                //console.log(this.state)\r\n            } else {\r\n                this.props.history.push('/');\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        let c = 0;\r\n        let carb=0;\r\n        let p=0;\r\n        let f=0;\r\n        let diet=\"\";\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n        if(e.target.value===\"Maintain weight\"){\r\n            this.setState({dietCalc:this.getCalculateResult()});\r\n            c=this.getCalculateResult();\r\n            carb = c*0.155;\r\n            p=c*0.025;\r\n            f=c*0.035;\r\n            diet = e.target.value;\r\n        }\r\n        else if(e.target.value===\"Lose weight\"){\r\n            this.setState({dietCalc:this.getCalculateResult()*.8});\r\n            c=this.getCalculateResult()*0.8;\r\n            carb = c*0.155;\r\n            p=c*0.025;\r\n            f=c*0.035;\r\n            diet = e.target.value;\r\n        }\r\n        else if(e.target.value===\"Gain weight\"){\r\n            this.setState({dietCalc:this.getCalculateResult()*1.2});\r\n            c=this.getCalculateResult()*1.2;\r\n            carb = c*0.155;\r\n            p=c*0.025;\r\n            f=c*0.035;\r\n            diet = e.target.value;\r\n        }\r\n        else if(e.target.value===\"High Protein diet\"){\r\n            this.setState({dietCalc:this.getCalculateResult()*1.1});\r\n            c=this.getCalculateResult()*1.1;\r\n            carb = c*0.13;\r\n            p=c*0.075;\r\n            f=c*0.035;\r\n            diet = e.target.value;\r\n        }\r\n        else if(e.target.value===\"Ketogenic diet\"){\r\n            this.setState({dietCalc:this.getCalculateResult()*0.9});\r\n            c=this.getCalculateResult()*0.9;\r\n            carb = c*0.02;\r\n            p=c*0.04;\r\n            f=c*0.085;\r\n            diet = e.target.value;\r\n        }\r\n        console.log(c);\r\n        this.setState({dietCalc:c});\r\n        console.log(this.state.dietCalc);\r\n        const userId = this.state.user.uid;\r\n        const { calories, carbs, protein, fats} = this.state;\r\n        //console.log(this.state)\r\n        firebase.firestore().collection('profiles').doc(userId)\r\n            .update({\r\n                diet: diet,\r\n                calories: Math.round(c),\r\n                carbs:Math.round(carb),\r\n                protein:Math.round(p),\r\n                fats:Math.round(f),\r\n            }).catch(error => {\r\n            this.setState({ error })\r\n        })\r\n        let profileRef = firebase.firestore().collection('profiles').doc(userId).get().then(doc => {\r\n            //console.log(doc.data())\r\n            this.setState((preState) => ({ ...preState.user, ...doc.data() })\r\n            )\r\n            //console.log(this.state)\r\n        });\r\n    }\r\n\r\n    getCalculateResult(){\r\n        if(this.state.gender==='Male')\r\n            if(this.state.activityLevel==='Low'){\r\n                let c= (66 + (6.3*( Number(this.state.weight) * 2.205)) + (12.9 * (Number(this.state.height) / 2.54)) - (6.8 * Number(this.state.age)))*1.2;\r\n                return Math.round(c);\r\n            }\r\n            else if(this.state.activityLevel==='Moderate'){\r\n                let cal= (66 + (6.3*( Number(this.state.weight) * 2.205)) + (12.9 * (Number(this.state.height) / 2.54)) - (6.8 * Number(this.state.age)))*1.55;\r\n                return cal;\r\n            }\r\n            else {\r\n                let cal= (66 + (6.3*( Number(this.state.weight) * 2.205)) + (12.9 * (Number(this.state.height) / 2.54)) - (6.8 * Number(this.state.age)))*1.9;\r\n                return cal;\r\n            }\r\n\r\n        else\r\n        if(this.state.activityLevel==='Low') {\r\n            let cal = (665 + (4.3 * (Number(this.state.weight) * 2.205)) + (4.7 * (Number(this.state.height) / 2.54)) - (4.7 * Number(this.state.age))) * 1.2;\r\n            return cal;\r\n        }\r\n        else if(this.state.activityLevel==='Moderate'){\r\n            let cal = (665 + (4.3 * (Number(this.state.weight) * 2.205)) + (4.7 * (Number(this.state.height) / 2.54)) - (4.7 * Number(this.state.age))) * 1.55;\r\n            return cal;\r\n        }\r\n        else {\r\n            let cal = (665 + (4.3 * (Number(this.state.weight) * 2.205)) + (4.7 * (Number(this.state.height) / 2.54)) - (4.7 * Number(this.state.age))) * 1.9;\r\n            return cal;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { diet, calories, carbs, protein, fats} = this.state;\r\n        return (\r\n                <div className=\"profile-details goals\">\r\n                    <h3 className=\"title\">Nutrition</h3>\r\n                    <div className=\"table\">\r\n                            <div className=\"cell input\">\r\n                                <Select id=\"dietCalc\"\r\n                                        onChange={this.handleChange}\r\n                                    //window.location.reload();\r\n                                        options={{\r\n                                            classes: '',\r\n                                            dropdownOptions: {alignment: 'left', autoTrigger: true, closeOnClick: true, constrainWidth: true, container: null, coverTrigger: true, hover: false, inDuration: 150, onCloseEnd: null, onCloseStart: null, onOpenEnd: null, onOpenStart: null, outDuration: 250}\r\n                                        }} value=\"\">\r\n                                    <option disabled value=\"\">Diet Plan</option>\r\n                                    <option value=\"Maintain weight\"  onChange={this.handleChange}>Maintain Weight</option>\r\n                                    <option value=\"Lose weight\"  onChange={this.handleChange}>Lose Weight</option>\r\n                                    <option value=\"Gain weight\"  onChange={this.handleChange}>Gain Weight</option>\r\n                                    <option value=\"High Protein diet\"  onChange={this.handleChange}>High Protein</option>\r\n                                    <option value=\"Ketogenic diet\"  onChange={this.handleChange}>Ketogenic</option>\r\n                                </Select>\r\n                            </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"cell bold\">Diet:</div>\r\n                            <div className=\"cell\"  onChange={this.handleChange}>{diet}</div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"cell bold\">Calories:</div>\r\n                            <div className=\"cell\"  onChange={this.handleChange}>{calories} kcal</div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"cell bold\">Carbs:</div>\r\n                            <div className=\"cell\"  onChange={this.handleChange}>{carbs} g</div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"cell bold\">Protein:</div>\r\n                            <div className=\"cell\"  onChange={this.handleChange}>{protein} g</div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"cell bold\">Fats:</div>\r\n                            <div className=\"cell\"  onChange={this.handleChange}>{fats} g</div>\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n        );\r\n    }\r\n}","//sd\r\n\r\nimport React from 'react';\r\nimport avatar from '../../images/profile.svg';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport default class SideBar extends React.Component {\r\n\r\n    handleButtons = () => {\r\n        if(this.props.path === \"/edit-profile\"){\r\n            return (\r\n                <div>\r\n                    <NavLink className=\"edit-dets btn-login\" to='/profile'>Cancel</NavLink>\r\n                    <NavLink className=\"edit-pwd\" to='/edit-pwd'>Change Password</NavLink>\r\n                </div>\r\n            )\r\n        }else if(this.props.path === \"/edit-pwd\"){\r\n            return (\r\n                <div>\r\n                    <NavLink className=\"edit-dets btn-login\" to='/edit-profile'>Edit details</NavLink>\r\n                    <NavLink className=\"edit-pwd\" to='/profile'>Cancel</NavLink>\r\n                </div>\r\n            )\r\n        }else {\r\n            return (\r\n                <div>\r\n                    <NavLink className=\"edit-dets btn-login\" to='/edit-profile'>Edit details</NavLink>\r\n                    <NavLink className=\"edit-pwd\" to='/edit-pwd'>Change Password</NavLink>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.state)\r\n        const { name,email } = this.props;\r\n        return (\r\n            <div className=\"profile-sidebar\">\r\n                <img src={avatar} alt=\"avatar\"></img>\r\n                <h4 className=\"name\">{name}</h4>\r\n                <span className=\"email\">{email}</span>\r\n\r\n                {this.handleButtons()}\r\n            </div>\r\n        )}\r\n}\r\n","//s<\r\nimport React from 'react';\r\n\r\nexport default class Achievements extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"profile-achievements\">\r\n                <h3 className=\"title\">Achievements</h3>\r\n            </div>\r\n        );\r\n    };\r\n\r\n}\r\n","//f\r\nimport React from 'react';\r\nimport firebase from '../firebase/firebase';\r\nimport SideBar from './sideBar';\r\nimport Achievements from './achievements';\r\nimport Diet from '../mealPlan/goals';\r\nexport default class Profile extends React.Component {\r\n    state = {\r\n        user: null,\r\n        email:'',\r\n        name: '',\r\n        age: '',\r\n        gender: null,\r\n        height: '',\r\n        weight: '',\r\n        activityLevel: '',\r\n        error: '',\r\n    }\r\n\r\n    componentDidMount() {\r\n        firebase.auth().onAuthStateChanged(user => {\r\n            if (user) {\r\n                //this.setState({ user })\r\n                firebase.firestore().collection('profiles').doc(user.uid).get().then(doc => {\r\n                    this.setState({ email:user.email, user, ...doc.data() })\r\n                });\r\n            } else {\r\n                this.props.history.push('/');\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { name, age, gender, height, weight, activityLevel, email } = this.state;\r\n        return (\r\n            <div className=\"profile\">\r\n                <SideBar name={name} email={email}/>\r\n                <div className=\"profile-details\">\r\n                    <h3 className=\"title\">User Details</h3>\r\n\r\n                    <div className=\"table\">\r\n                        <div className=\"row\">\r\n                            <div className=\"cell bold\">Name:</div>\r\n                            <div className=\"cell\">{name}</div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"cell bold\">Age:</div>\r\n                            <div className=\"cell\">{age}</div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"cell bold\">Gender:</div>\r\n                            <div className=\"cell\">{gender}</div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"cell bold\">Height:</div>\r\n                            <div className=\"cell\">{height} cm</div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"cell bold\">Weight:</div>\r\n                            <div className=\"cell \">{weight} kg</div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"cell bold\">Activity level:</div>\r\n                            <div className=\"cell\">{activityLevel}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Diet/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n}","import React from 'react';\r\nimport firebase from '../firebase/firebase';\r\nimport SideBar from './sideBar';\r\nimport Achievements from './achievements'\r\nimport { RadioGroup, Select } from 'react-materialize';\r\n\r\nexport default class EditProfile extends React.Component {\r\n    state = {\r\n        user: null,\r\n        email: '',\r\n        name: '',\r\n        age: '',\r\n        gender: null,\r\n        height: '',\r\n        weight: '',\r\n        activityLevel: '',\r\n        error: '',\r\n        diet:'',\r\n        calories: '',\r\n        carbs: '',\r\n        fats: '',\r\n        protein:'',\r\n\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        firebase.auth().onAuthStateChanged(user => {\r\n            if (user) {\r\n                this.setState({ user })\r\n                let profileRef = firebase.firestore().collection('profiles').doc(user.uid).get().then(doc => {\r\n                    this.setState({ email: user.email, user, ...doc.data() })\r\n                });\r\n            } else {\r\n                this.props.history.push('/');\r\n            }\r\n        })\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault()\r\n        const userId = this.state.user.uid;\r\n        const timestamp = new Date().toLocaleString();\r\n        const { name, age, gender, height, weight, activityLevel, diet, calories, carbs, protein, fats} = this.state;\r\n        if (Number(age) > 150 || Number(age) < 0) {\r\n            this.setState({ error: { message: 'Invalid age' } });\r\n        } else {\r\n            firebase.firestore().collection('profiles').doc(userId)\r\n                .set({\r\n                    name,\r\n                    age,\r\n                    height,\r\n                    gender,\r\n                    weight,\r\n                    activityLevel,\r\n                    diet,\r\n                    calories,\r\n                    carbs,\r\n                    protein,\r\n                    fats,\r\n                    timestamp: timestamp,\r\n                }).then(this.props.history.push('/profile')).catch(error => {\r\n                    this.setState({ error })\r\n                })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.state)\r\n        const fixName = this.state.name;\r\n        const { name, age, gender, height, weight, activityLevel, email } = this.state;\r\n        return (\r\n            <div className=\"profile\">\r\n                <SideBar name={name} email={email} path=\"/edit-profile\" />\r\n                <div className=\"profile-details\">\r\n                    <h3 className=\"title\">User Details</h3>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className=\"table\">\r\n                            <div className=\"row\">\r\n                                <div className=\"cell bold\">Name:</div>\r\n                                <div className=\"cell\">\r\n                                    <input id=\"name\" required className=\"input\" type=\"text\" placeholder=\"Name\" onChange={this.handleChange} value={fixName}></input>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"cell bold\">Age:</div>\r\n                                <div className=\"cell\">\r\n                                    <input id=\"age\" required className=\"input\" type=\"number\" min=\"0\" max=\"150\" placeholder=\"Age\" onChange={this.handleChange} value={age}></input>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"cell bold\">Gender:</div>\r\n                                <div className=\"cell\">\r\n                                    <Select id=\"gender\" onChange={this.handleChange}\r\n                                        // onChange={function noRefCheck() { }}\r\n                                        // options={{\r\n                                        //     classes: '',\r\n                                        //     dropdownOptions: { alignment: 'left', autoTrigger: true, closeOnClick: true, constrainWidth: true, container: null, coverTrigger: true, hover: false, inDuration: 150, onCloseEnd: null, onCloseStart: null, onOpenEnd: null, onOpenStart: null, outDuration: 250 }\r\n                                        // }}\r\n                                        value={gender ? gender : \"\"}>\r\n                                        <option\r\n                                            disabled\r\n                                            value=\"\"\r\n                                        >\r\n                                            Gender\r\n                                        </option>\r\n                                        <option value=\"Male\">\r\n                                            Male\r\n                                        </option>\r\n                                        <option value=\"Female\">\r\n                                            Female\r\n                                        </option>\r\n                                    </Select>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"cell bold\">Height (cm):</div>\r\n                                <div className=\"cell\">\r\n                                    <input id=\"height\" required className=\"input\" type=\"number\" min=\"0\" max=\"300\" placeholder=\"Height\" onChange={this.handleChange} value={height}></input>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"cell bold\">Weight (kg):</div>\r\n                                <div className=\"cell\">\r\n                                    <input id=\"weight\" required className=\"input\" type=\"number\" min=\"0\" max=\"200\"placeholder=\"Weight\" onChange={this.handleChange} value={weight}></input>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"cell bold\">Activity level:</div>\r\n                                <div className=\"cell\">\r\n                                    <Select id=\"activityLevel\" onChange={this.handleChange}\r\n                                        // onChange={function noRefCheck() { }}\r\n                                        // options={{\r\n                                        //     classes: '',\r\n                                        //     dropdownOptions: { alignment: 'left', autoTrigger: true, closeOnClick: true, constrainWidth: true, container: null, coverTrigger: true, hover: false, inDuration: 150, onCloseEnd: null, onCloseStart: null, onOpenEnd: null, onOpenStart: null, outDuration: 250 }\r\n                                        // }}\r\n                                        value={activityLevel ? activityLevel : \"\"}>\r\n                                        <option\r\n                                            disabled\r\n                                            value=\"\"\r\n                                        >\r\n                                            Activity Level\r\n                                        </option>\r\n                                        <option value=\"Low\">\r\n                                            Low\r\n                                        </option>\r\n                                        <option value=\"Moderate\">\r\n                                            Moderate\r\n                                        </option>\r\n                                        <option value=\"High\">\r\n                                            High\r\n                                        </option>\r\n                                    </Select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <button type=\"submit\" className=\"btn-login submit\">Submit</button>\r\n                            <div>\r\n                                {this.state.error ? <p>{this.state.error.message}</p> : null}\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n}","import React from 'react';\r\nimport firebase from 'firebase';\r\nimport Swal from 'sweetalert2';\r\nimport withReactContent from 'sweetalert2-react-content';\r\nimport {Select} from \"react-materialize\";\r\n\r\nexport default class Register extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            confirmPassword: '',\r\n            user: null,\r\n            name: '',\r\n            age: '',\r\n            gender: null,\r\n            height: '',\r\n            weight: '',\r\n            activityLevel: '',\r\n            error: '',\r\n        }\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const { email, password, confirmPassword } = this.state;\r\n        if (password.length >= 6) {\r\n            if (password === confirmPassword) {\r\n                firebase.auth()\r\n                    .createUserWithEmailAndPassword(email, password)\r\n                    .then(() => {\r\n                        this.saveUserDetails();\r\n                    })\r\n                    .catch(error => {\r\n                        this.setState({ error })\r\n                    })\r\n            } else {\r\n                this.setState((preState) => ({ ...preState, error: { message: 'Two password are different' } }))\r\n            }\r\n        } else {\r\n            this.setState((preState) => ({ ...preState, error: { message: 'Password should be more than 6 characters' } }))\r\n        }\r\n        console.log(this.state.error)\r\n    }\r\n\r\n    componentDidMount() {\r\n        firebase.auth().onAuthStateChanged(user => {\r\n            if (user) {\r\n                this.setState({ user })\r\n            }\r\n        })\r\n    }\r\n\r\n    saveUserDetails(){\r\n        let userId;\r\n        const { name, age, gender, height, weight, activityLevel} = this.state;\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n            if (user) {\r\n                // User logged in already or has just logged in.\r\n                console.log(user.uid);\r\n                userId = user.uid;\r\n                firebase.firestore().collection('profiles').doc(userId)\r\n                .set({\r\n                        name:name,\r\n                        age:age,\r\n                        height:height,\r\n                        gender:gender,\r\n                        weight:weight,\r\n                        activityLevel:activityLevel,\r\n                    })\r\n                    .then(() => {\r\n                        const MySwal = withReactContent(Swal);\r\n                        MySwal.fire({\r\n                            icon: 'success',\r\n                            title: 'Account create successfully!',\r\n                            showConfirmButton: false,\r\n                            timer: 1500\r\n                        });\r\n                    });\r\n                    this.props.history.push('/profile');\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    render() {\r\n        const { name, age, gender, height, weight, activityLevel} = this.state;\r\n        return (\r\n            <div className=\"view register\">\r\n                    {/*<h3 className=\"register-header\">Register Member</h3>*/}\r\n                    <div className=\"register-form\">\r\n                        {<h3 className=\"register-header\">Register Member</h3>}\r\n                        <br></br><br></br>\r\n                        <form onSubmit={this.handleSubmit} className=\"form\">\r\n                            <label className=\"label\">Email: </label>\r\n                            <input required className=\"input\" type=\"text\" name=\"email\" id=\"email\" placeholder={\"Enter Email\"} onChange={this.handleChange} />\r\n                            <label className=\"label\">Password:</label>\r\n                            <input required className=\"input\" type=\"password\" id=\"password\" name=\"password\" placeholder={\"Enter Password\"} style={{}} onChange={this.handleChange} />\r\n                            <label className=\"label\">Confirm Password:</label>\r\n                            <input required className=\"input\" type=\"password\" id=\"confirmPassword\" name=\"confirmPassword\" placeholder={\"Enter Password\"} style={{}} onChange={this.handleChange} />\r\n                            <label className=\"label\">Name:</label>\r\n                            <input required className=\"input\" type=\"text\" id=\"name\" name=\"name\" min=\"1\" max=\"30\" placeholder=\"Name\" onChange={this.handleChange} value={name}></input>\r\n                            <label className=\"label\">Enter Age:</label>\r\n                            <input required className=\"input\" id=\"age\" name=\"age\" type=\"number\" min=\"0\" max=\"150\" placeholder=\"Age\" onChange={this.handleChange} value={age}></input>\r\n                            <label className=\"label\">Gender:</label>\r\n                            <Select id=\"gender\" name=\"gender\" onChange={this.handleChange} value={gender ? gender : \"\"}><option disabled value=\"\">Gender</option><option value=\"Male\">Male</option><option value=\"Female\">Female</option></Select>\r\n                            <label className=\"label\">Height (cm):</label>\r\n                            <input required className=\"input\" id=\"height\" name=\"height\" type=\"number\" min=\"0\" max=\"300\" placeholder=\"Height\" onChange={this.handleChange} value={height}></input>\r\n                            <label className=\"label\">Weight (kg):</label>\r\n                            <input required className=\"input\" id=\"weight\" name=\"weight\" type=\"number\" min=\"0\" max=\"200\"placeholder=\"Weight\" onChange={this.handleChange} value={weight}></input>\r\n                            <label className=\"label\">Activity Level:</label>\r\n                            <Select id=\"activityLevel\" onChange={this.handleChange} value={activityLevel ? activityLevel : \"\"}><option disabled value=\"\">Activity Level</option><option value=\"Low\">Low</option><option value=\"Moderate\">Moderate</option><option value=\"High\">High</option></Select>\r\n                            <br></br>\r\n                            <button type=\"submit\" className=\"btn-login\" >REGISTER</button>\r\n                            <br></br>\r\n                            {this.state.error ? <p>{this.state.error.message}</p> : null}\r\n                        </form>\r\n                    </div>\r\n            </div>\r\n        );\r\n    }\r\n}","//rebase\r\n\r\nimport React from 'react';\r\nimport firebase from '../firebase/firebase';\r\nimport SideBar from './sideBar'\r\nimport Achievements from './achievements'\r\nexport default class ChangePassword extends React.Component {\r\n    state = {\r\n        user: null,\r\n        name: '',\r\n        email: '',\r\n        oldPassword: '',\r\n        newPassword: '',\r\n        newEmail: '',\r\n        confirmNewPassword: '',\r\n        error: null,\r\n        success: null,\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        firebase.auth().onAuthStateChanged(user => {\r\n            if (user) {\r\n                this.setState({ user })\r\n                let profileRef = firebase.firestore().collection('profiles').doc(user.uid).get().then(doc => {\r\n                    this.setState({ email:user.email, user, ...doc.data() })\r\n                });\r\n            } else {\r\n                this.props.history.push('/');\r\n            }\r\n        })\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault()\r\n        this.setState({ success: null, error: null })\r\n        var virError = null\r\n        const { oldPassword, newPassword, confirmNewPassword, email, newEmail } = this.state;\r\n        if (newEmail !== '') {\r\n            firebase.auth().currentUser.updateEmail(newEmail).then(this.setState({ success: 'Updating email successfully' })).catch(error => {\r\n                this.setState({ error: error, success: null })\r\n            })\r\n        }\r\n        if (newPassword.length > 0) {\r\n            if (newPassword === confirmNewPassword) {\r\n                //this.setState({ error: null })\r\n                // console.log(\"try login\")\r\n                // let credential = firebase.auth().currentUser\r\n                // //reauthenticateWithCredential not workes well\r\n                // .reauthenticateAndRetrieveDataWithCredential(\r\n                //     firebase.auth.EmailAuthProvider.credential(email, oldPassword)).then(x=>{console.log(x)})\r\n                //     .catch(error => {\r\n                //         virError = error\r\n                //     });\r\n                // console.log(virError)\r\n                // console.log(credential)\r\n                // console.log(\"login finished\")\r\n                // if (virError === null) {\r\n                firebase.auth().currentUser.updatePassword(newPassword).catch(error => {\r\n                    this.setState({ error, success: null })\r\n                })\r\n                if (this.state.error === null) {\r\n                    this.setState({ success: 'Updating password successfully' })\r\n                } else {\r\n                    this.setState({ success: null })\r\n                }\r\n                // console.log(virError)\r\n                // if (virError === null) {\r\n\r\n                // } else {\r\n                //     this.setState({ error: virError })\r\n                // }\r\n                // } else {\r\n                //     this.setState({ error: virError })\r\n                // }\r\n            } else {\r\n                this.setState({ error: { message: 'New password is different from confirm password' } })\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.state)\r\n        const { oldPassword, newPassword, confirmNewPassword, name, email, newEmail } = this.state;\r\n        return (\r\n            <div className=\"profile\">\r\n                <SideBar name={name} email={email} path=\"/edit-pwd\" />\r\n                <div className=\"profile-details\">\r\n                    <form onSubmit={this.handleSubmit} className=\"form\">\r\n                        <h3 className=\"title\">Change password</h3>\r\n                        <div className=\"table\">\r\n                            {/* <div className=\"row\">\r\n                                <div className=\"cell\">Old password:</div>\r\n                                <div className=\"cell\"><input id=\"oldPassword\" required className=\"input\" type=\"password\" placeholder=\"Old password\" onChange={this.handleChange} value={oldPassword}></input></div>\r\n                            </div> */}\r\n                            <div className=\"row\">\r\n                                <div className=\"cell bold\">New E-mail:</div>\r\n                                <div className=\"cell\"><input id=\"newEmail\" className=\"input\" type=\"email\" placeholder=\"Keep it blank when only change password\" onChange={this.handleChange} value={newEmail}></input></div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"cell bold\">Create new password:</div>\r\n                                <div className=\"cell\"><input id=\"newPassword\" className=\"input\" type=\"password\" placeholder=\"Create new password\" onChange={this.handleChange} value={newPassword}></input></div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"cell bold\">Confirm new password:</div>\r\n                                <div className=\"cell\"><input id=\"confirmNewPassword\" className=\"confirmNewPassword\" type=\"password\" placeholder=\"Confirm new password\" onChange={this.handleChange} value={confirmNewPassword}></input></div>\r\n                            </div>\r\n                            <div>\r\n                                <button type=\"submit\" className=\"btn-login submit\">Submit</button>\r\n                                <div>\r\n                                    {this.state.success ? <p style={{ color: \"green\" }}>{this.state.success}</p> : null}\r\n                                    {this.state.error ? <p style={{ color: \"red\" }}>{this.state.error.message}</p> : null}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <Achievements/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n}","import React from 'react';\r\nimport './scss/styles.scss';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport Footer from './components/layout/footer';\r\nimport HomeView from './components/home/homeview';\r\nimport firebase from './components/firebase/firebase';\r\nimport LoggedInHeader from './components/layout/loggedInHeader';\r\nimport LoggedOutHeader from './components/layout/loggedOutHeader';\r\nimport MealPlannerPage from './components/mealPlan/MealPlannerPage';\r\nimport Goals from './components/mealPlan/goals';\r\nimport Profile from './components/userInfo/profile';\r\nimport EditProfile from './components/userInfo/editProfile';\r\nimport Register from './components/authentication/register';\r\nimport ChangePassword from './components/userInfo/changePassword'\r\n\r\n//all the components have moved to components directory, you can find the path there\r\n\r\nexport default class App extends React.Component {\r\n    state = {\r\n        user: null,\r\n        error: null,\r\n        //authenticated:null\r\n    }\r\n\r\n    componentDidMount() {\r\n        firebase.auth().onAuthStateChanged(user => {\r\n            if (user) {\r\n                this.setState({ user })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <BrowserRouter >\r\n                {/* render different header for logged-in user and no-register user */}\r\n                {this.state.user ? <LoggedInHeader /> : <LoggedOutHeader />}\r\n                {/* render different body for various route */}\r\n                <Switch>\r\n                    <Route path=\"/\" component={HomeView} exact />\r\n                    <Route path='/home' component={HomeView} />\r\n                    <Route path='/plan' component={MealPlannerPage} />\r\n                    <Route path='/recipes' component={HomeView} />\r\n                    <Route path='/goals' component={Goals} />\r\n                    <Route path='/profile' component={Profile}/>\r\n                    <Route path='/edit-profile' component={EditProfile}/>\r\n                    <Route path='/register' component={Register}/>\r\n                    <Route path='/edit-pwd' component={ChangePassword}/>\r\n                </Switch>\r\n                <Footer/>\r\n            </BrowserRouter>\r\n        )\r\n    }\r\n}\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/homepage-gif.d7f52adc.gif\";","module.exports = __webpack_public_path__ + \"static/media/loading.113e4202.svg\";","module.exports = __webpack_public_path__ + \"static/media/profile.1550fc64.svg\";"],"sourceRoot":""}